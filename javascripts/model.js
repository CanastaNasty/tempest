!function(){var Model,Observable,className,__slice=[].slice;require("cornerstone-js");Observable=require("./observable");className=function(string){return string.charAt(0).toUpperCase()+string.substring(1)};Model=function(I){var self;self=Core(I).extend({attrObservable:function(){var names;names=1<=arguments.length?__slice.call(arguments,0):[];return names.each(function(name){self[name]=Observable(I[name]);return self[name].observe(function(newValue){return I[name]=newValue})})},attrModel:function(name,Model){var model;if(Model==null){Model=className(name).constantize()}model=Model(I[name]);self[name]=Observable(model);return self[name].observe(function(newValue){return I[name]=newValue.I})},attrModels:function(name,Model){var models;if(Model==null){Model=className(name).constantize()}models=(I[name]||[]).map(Model);self[name]=Observable(models);return self[name].observe(function(newValue){return I[name]=newValue.map(function(instance){return instance.I})})},observeAll:function(){return self.attrObservable.apply(self,Object.keys(I))},toJSON:function(){return I}});return self};module.exports=Model}.call(this);